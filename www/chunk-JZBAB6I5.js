import{A as $,B,C as p,D as g,E as u,F as h,G,I as f,a as _,l as E,s as F,t as z,u as s,v as D,w as T,x as l,y as j,z as V}from"./chunk-FMYCLX6G.js";import"./chunk-5XMFJ3F2.js";import"./chunk-XDJGQ7GY.js";import{C as y,R as C,d as w,ea as M,i as x,ja as b,ka as v,l as n,m as o,n as a,oa as k,pa as I,ra as L,s as m,sa as S,ta as O,xa as P}from"./chunk-FO6YZXNC.js";import"./chunk-YI27JXCD.js";import"./chunk-XVN6GXSZ.js";import"./chunk-P7WOO5OP.js";import"./chunk-UZEY6XXM.js";import"./chunk-SDMJJ4FY.js";import"./chunk-GYLY2RJE.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-PIQNUW7X.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{g as d}from"./chunk-2R6CW7ES.js";var pt=(()=>{let i=class i{constructor(){this.data=[],this.datos=w(F),_({notifications:E})}ngOnInit(){return d(this,null,function*(){yield this.loadMap(),yield this.loadData()})}loadData(){return d(this,null,function*(){try{this.data=yield this.datos.getDatos()}catch{}})}loadMap(){return d(this,null,function*(){try{let e=yield z.getCurrentPosition(),t=e.coords.latitude,r=e.coords.longitude;this.map=new p({target:"mapId",layers:[new g({source:new u})],view:new l({center:s([r,t]),zoom:15})}),this.markerLayer=new h({source:new f}),this.map.addLayer(this.markerLayer),this.map.on("click",H=>{this.agregarMarcador(H.coordinate)})}catch(e){console.error("Error obteniendo ubicaci\xF3n:",e),this.map=new p({target:"mapId",layers:[new g({source:new u})],view:new l({center:s([-77.067,3.883]),zoom:13})}),this.markerLayer=new h({source:new f}),this.map.addLayer(this.markerLayer),this.map.on("click",t=>{this.agregarMarcador(t.coordinate)})}})}agregarMarcador(e){let t=D(e);console.log("Coordenadas:",{longitud:t[0],latitud:t[1]}),this.markerLayer.getSource().clear();let r=new G({geometry:new T(e)});r.setStyle(new B({image:new j({radius:6,fill:new V({color:"red"}),stroke:new $({color:"white",width:2})})})),this.markerLayer.getSource().addFeature(r),this.mostrarCoordenadas(t[0],t[1])}mostrarCoordenadas(e,t){alert(`Coordenadas capturadas:
Longitud: ${e.toFixed(6)}
Latitud: ${t.toFixed(6)}`)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=x({type:i,selectors:[["app-inicio"]],decls:22,vars:0,consts:[["contentId","main-content"],[1,"ion-padding"],["id","main-content",1,"ion-page"],[1,"floating-menu"],[1,"menu-btn"],[1,"logo"],["src","assets/img/login.png",1,"img"],[1,"aviso"],[1,"informacion"],["name","notifications"],["color","success",1,"tiempo-llegada"],[1,"content"],["id","mapId",2,"height","100%","width","100%"]],template:function(t,r){t&1&&(n(0,"ion-menu",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title"),m(4,"Menu Content"),o()()(),n(5,"ion-content",1),m(6,"This is the menu content."),o()(),n(7,"div",2)(8,"div",3),a(9,"ion-menu-button",4),o(),n(10,"ion-content")(11,"div",5),a(12,"ion-img",6),o(),n(13,"div",7)(14,"div",8)(15,"ion-text"),m(16,"Camion Cerca"),o(),a(17,"ion-icon",9),o(),n(18,"ion-text",10),m(19,"Llegara en 15 minutos a tu zona"),o()(),n(20,"div",11),a(21,"div",12),o()()())},dependencies:[L,P,v,M,b,S,O,y,C,I,k],styles:["ion-content[_ngcontent-%COMP%]{--background: white;--overflow: hidden}ion-list[_ngcontent-%COMP%]{--background: transparent;background:transparent}ion-item[_ngcontent-%COMP%]{--color: black;--background: transparent;background:transparent}.img[_ngcontent-%COMP%]{display:flex;margin:0 auto;width:220px;height:220px}.floating-menu[_ngcontent-%COMP%]{padding:10px;position:absolute;top:16px;left:16px;z-index:1000}.menu-btn[_ngcontent-%COMP%]{--color: #000000;--background: rgba(255, 255, 255, .8);--border-radius: 50%;width:44px;height:44px}.aviso[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;margin:auto;border-radius:15px;height:8vh;width:70%;color:#000;background-color:#ebf3f3}.tiempo-llegada[_ngcontent-%COMP%]{margin-top:auto;text-align:center;padding-bottom:3%}.informacion[_ngcontent-%COMP%]{font-size:22px;gap:10px;display:flex;align-items:center;justify-content:center}.filtrar[_ngcontent-%COMP%]{margin-top:5%;display:flex;justify-content:center}.content[_ngcontent-%COMP%]{overflow:hidden;position:relative;flex-direction:column;margin:0 auto;display:flex;background-color:#ddd6d6;height:50vh;min-height:300px;width:85%;border-radius:20px;top:7%}#mapId[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:20px;position:relative;z-index:1}"]});let c=i;return c})();export{pt as InicioPage};
